{"ast":null,"code":"import _objectSpread from\"F:/VScode/ReactJS/TODO/todolist/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"F:/VScode/ReactJS/TODO/todolist/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"F:/VScode/ReactJS/TODO/todolist/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"F:/VScode/ReactJS/TODO/todolist/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React,{memo,useEffect}from\"react\";import{useState}from\"react\";import{Route,Routes,useNavigate}from\"react-router-dom\";import Sidebar from\"../components/sidebar.tsx\";import Important from\"../components/important.tsx\";import AddTask from\"../components/addTask.tsx\";import Infobar from\"../components/infobar.tsx\";import General from\"../components/General.tsx\";import Planned from\"../components/Planned.tsx\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Dashboard(_ref){var state=_ref.state,updatestate=_ref.updatestate;var getListname=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"api/getLists\");case 3:response=_context.sent;if(!response.ok){_context.next=10;break;}_context.next=7;return response.json();case 7:return _context.abrupt(\"return\",_context.sent);case 10:return _context.abrupt(\"return\",{});case 11:_context.next=16;break;case 13:_context.prev=13;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 16:case\"end\":return _context.stop();}},_callee,null,[[0,13]]);}));return function getListname(){return _ref2.apply(this,arguments);};}();var getAccountinfo=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return fetch(\"api/getUser\");case 3:response=_context2.sent;if(!response.ok){_context2.next=10;break;}_context2.next=7;return response.json();case 7:return _context2.abrupt(\"return\",_context2.sent);case 10:return _context2.abrupt(\"return\",{});case 11:_context2.next=16;break;case 13:_context2.prev=13;_context2.t0=_context2[\"catch\"](0);console.log(_context2.t0);case 16:case\"end\":return _context2.stop();}},_callee2,null,[[0,13]]);}));return function getAccountinfo(){return _ref3.apply(this,arguments);};}();var navigate=useNavigate();var _useState=useState({}),_useState2=_slicedToArray(_useState,2),listobj=_useState2[0],setList=_useState2[1];var _useState3=useState({userId:\"-1\",accountName:\"\",emailId:\"\",profilepic:\"sidebar-tempProfilepic.png\"}),_useState4=_slicedToArray(_useState3,2),accountObj=_useState4[0],setAccount=_useState4[1];var _useState5=useState({tasks:[{name:\"new task\",dueDate:new Date(),important:true,repeat:true,completed:true,taskID:\"1\"}]}),_useState6=_slicedToArray(_useState5,2),dataOBj=_useState6[0],setdataobj=_useState6[1];var _useState7=useState({genClass:\"infoBar infobar-general\",name:\"\",steps:[\"\"],remind:null,dueDate:null,repeat:null,note:\"\",createdOn:null,important:false}),_useState8=_slicedToArray(_useState7,2),infobarObj=_useState8[0],setinfobar=_useState8[1];var verifySession=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){var response;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return fetch(\"/api/verifyuser\");case 3:response=_context3.sent;if(response.ok){updatestate(true);}else{updatestate(false);navigate(\"/\");}_context3.next=10;break;case 7:_context3.prev=7;_context3.t0=_context3[\"catch\"](0);console.log(_context3.t0);case 10:case\"end\":return _context3.stop();}},_callee3,null,[[0,7]]);}));return function verifySession(){return _ref4.apply(this,arguments);};}();useEffect(function(){verifySession();getListname().then(function(res){console.log(res);setList(res);});getAccountinfo().then(function(res){setAccount(res);});},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Sidebar,{genClass:\"sidebar-general\",userLists:listobj,accountInfo:accountObj}),/*#__PURE__*/_jsxs(\"div\",{className:\"mainContent-general\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mainContent-general-tasklist\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/myday\",element:/*#__PURE__*/_jsx(General,_objectSpread({},dataOBj))}),/*#__PURE__*/_jsx(Route,{path:\"/important\",element:/*#__PURE__*/_jsx(Important,_objectSpread({},dataOBj))}),/*#__PURE__*/_jsx(Route,{path:\"/planned\",element:/*#__PURE__*/_jsx(Planned,_objectSpread({},dataOBj))}),/*#__PURE__*/_jsx(Route,{path:\"/tasks\",element:/*#__PURE__*/_jsx(General,_objectSpread({},dataOBj))}),/*#__PURE__*/_jsx(Route,{path:\"/lists/:id\",element:/*#__PURE__*/_jsx(General,_objectSpread({},dataOBj))})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"mainContent-general-addTask\",children:/*#__PURE__*/_jsx(AddTask,{})})]}),/*#__PURE__*/_jsx(Infobar,_objectSpread({},infobarObj))]});}export default/*#__PURE__*/memo(Dashboard);","map":{"version":3,"names":["React","memo","useEffect","useState","Route","Routes","useNavigate","Sidebar","Important","AddTask","Infobar","General","Planned","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Dashboard","_ref","state","updatestate","getListname","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","fetch","sent","ok","json","abrupt","t0","console","log","stop","apply","arguments","getAccountinfo","_ref3","_callee2","_callee2$","_context2","navigate","_useState","_useState2","_slicedToArray","listobj","setList","_useState3","userId","accountName","emailId","profilepic","_useState4","accountObj","setAccount","_useState5","tasks","name","dueDate","Date","important","repeat","completed","taskID","_useState6","dataOBj","setdataobj","_useState7","genClass","steps","remind","note","createdOn","_useState8","infobarObj","setinfobar","verifySession","_ref4","_callee3","_callee3$","_context3","then","res","children","userLists","accountInfo","className","path","element","_objectSpread"],"sources":["F:/VScode/ReactJS/TODO/todolist/src/pages/dashboard.tsx"],"sourcesContent":["import React, { memo, useEffect } from \"react\";\r\nimport { useState } from \"react\";\r\nimport { Route, Routes, useNavigate } from \"react-router-dom\";\r\nimport Sidebar from \"../components/sidebar.tsx\";\r\nimport Important from \"../components/important.tsx\";\r\nimport AddTask from \"../components/addTask.tsx\";\r\nimport Infobar from \"../components/infobar.tsx\";\r\nimport General from \"../components/General.tsx\";\r\nimport Planned from \"../components/Planned.tsx\";\r\n\r\nfunction Dashboard({ state, updatestate }) {\r\n  const getListname = async () => {\r\n    try {\r\n      const response = await fetch(\"api/getLists\");\r\n      if (response.ok) {\r\n        return await response.json();\r\n      } else {\r\n        return {};\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n  const getAccountinfo = async () => {\r\n    try {\r\n      const response = await fetch(\"api/getUser\");\r\n      if (response.ok) {\r\n        return await response.json();\r\n      } else {\r\n        return {};\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  const navigate = useNavigate();\r\n  const [listobj, setList] = useState({});\r\n  const [accountObj, setAccount] = useState({\r\n    userId: \"-1\",\r\n    accountName: \"\",\r\n    emailId: \"\",\r\n    profilepic: \"sidebar-tempProfilepic.png\",\r\n  });\r\n  const [dataOBj, setdataobj] = useState({\r\n    tasks: [\r\n      {\r\n        name: \"new task\",\r\n        dueDate: new Date(),\r\n        important: true,\r\n        repeat: true,\r\n        completed: true,\r\n        taskID: \"1\",\r\n      },\r\n    ],\r\n  });\r\n  const [infobarObj, setinfobar] = useState({\r\n    genClass: \"infoBar infobar-general\",\r\n    name: \"\",\r\n    steps: [\"\"],\r\n    remind: null,\r\n    dueDate: null,\r\n    repeat: null,\r\n    note: \"\",\r\n    createdOn: null,\r\n    important: false,\r\n  });\r\n  const verifySession = async () => {\r\n    try {\r\n      const response = await fetch(\"/api/verifyuser\");\r\n      if (response.ok) {\r\n        updatestate(true);\r\n      } else {\r\n        updatestate(false);\r\n        navigate(\"/\");\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    verifySession();\r\n    getListname().then((res) => {\r\n      console.log(res);\r\n      setList(res);\r\n    });\r\n    getAccountinfo().then((res) => {\r\n      setAccount(res);\r\n    });\r\n  }, []);\r\n  return (\r\n    <>\r\n      <Sidebar\r\n        genClass=\"sidebar-general\"\r\n        userLists={listobj}\r\n        accountInfo={accountObj}\r\n      />\r\n      <div className=\"mainContent-general\">\r\n        <div className=\"mainContent-general-tasklist\">\r\n          <Routes>\r\n            <Route path=\"/myday\" element={<General {...dataOBj} />} />\r\n            <Route path=\"/important\" element={<Important {...dataOBj} />} />\r\n            <Route path=\"/planned\" element={<Planned {...dataOBj} />}></Route>\r\n            <Route path=\"/tasks\" element={<General {...dataOBj} />}></Route>\r\n            <Route path=\"/lists/:id\" element={<General {...dataOBj} />}></Route>\r\n          </Routes>\r\n        </div>\r\n        <div className=\"mainContent-general-addTask\">\r\n          <AddTask />\r\n        </div>\r\n      </div>\r\n      <Infobar {...infobarObj} />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default memo(Dashboard);\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}