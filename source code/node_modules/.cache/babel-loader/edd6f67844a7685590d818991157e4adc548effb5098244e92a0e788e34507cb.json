{"ast":null,"code":"import _regeneratorRuntime from\"F:/VScode/ReactJS/TODO/todolist/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"F:/VScode/ReactJS/TODO/todolist/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"F:/VScode/ReactJS/TODO/todolist/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import\"./App.css\";import{BrowserRouter,Routes,Route}from\"react-router-dom\";import Loginpage from\"./pages/login.tsx\";import Signuppage from\"./pages/signup.tsx\";import Dashboard from\"./pages/dashboard.tsx\";import{useEffect,useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loggedIn=_useState2[0],setloggedin=_useState2[1];var verifySession=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"api/verifyuser\");case 3:response=_context.sent;if(response.ok){setloggedin(true);}else{setloggedin(false);}_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 10:case\"end\":return _context.stop();}},_callee,null,[[0,7]]);}));return function verifySession(){return _ref.apply(this,arguments);};}();useEffect(function(){verifySession();},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"todoBody\",children:/*#__PURE__*/_jsx(BrowserRouter,{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:loggedIn?/*#__PURE__*/_jsx(Dashboard,{}):/*#__PURE__*/_jsx(Loginpage,{updatestate:setloggedin})}),/*#__PURE__*/_jsx(Route,{path:\"/signup\",element:/*#__PURE__*/_jsx(Signuppage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/dashboard/*\",element:loggedIn?/*#__PURE__*/_jsx(Dashboard,{state:loggedIn,updatestate:setloggedin}):/*#__PURE__*/_jsx(Loginpage,{updatestate:setloggedin})})]})})});}export default App;","map":{"version":3,"names":["BrowserRouter","Routes","Route","Loginpage","Signuppage","Dashboard","useEffect","useState","jsx","_jsx","jsxs","_jsxs","App","_useState","_useState2","_slicedToArray","loggedIn","setloggedin","verifySession","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","fetch","sent","ok","t0","console","log","stop","apply","arguments","className","children","path","element","updatestate","state"],"sources":["F:/VScode/ReactJS/TODO/todolist/src/App.js"],"sourcesContent":["import \"./App.css\";\nimport { BrowserRouter, Routes, Route } from \"react-router-dom\";\nimport Loginpage from \"./pages/login.tsx\";\nimport Signuppage from \"./pages/signup.tsx\";\nimport Dashboard from \"./pages/dashboard.tsx\";\nimport { useEffect, useState } from \"react\";\n\nfunction App() {\n  const [loggedIn, setloggedin] = useState(false);\n\n  const verifySession = async () => {\n    try {\n      const response = await fetch(\"api/verifyuser\");\n      if (response.ok) {\n        setloggedin(true);\n      } else {\n        setloggedin(false);\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  };\n  useEffect(() => {\n    verifySession();\n  }, []);\n  return (\n    <div className=\"todoBody\">\n      <BrowserRouter>\n        <Routes>\n          <Route\n            path=\"/\"\n            element={\n              loggedIn ? <Dashboard /> : <Loginpage updatestate={setloggedin} />\n            }\n          ></Route>\n          <Route path=\"/signup\" element={<Signuppage />}></Route>\n          <Route\n            path=\"/dashboard/*\"\n            element={\n              loggedIn ? (\n                <Dashboard state={loggedIn} updatestate={setloggedin} />\n              ) : (\n                <Loginpage updatestate={setloggedin} />\n              )\n            }\n          ></Route>\n        </Routes>\n      </BrowserRouter>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"+WAAA,MAAO,WAAW,CAClB,OAASA,aAAa,CAAEC,MAAM,CAAEC,KAAK,KAAQ,kBAAkB,CAC/D,MAAO,CAAAC,SAAS,KAAM,mBAAmB,CACzC,MAAO,CAAAC,UAAU,KAAM,oBAAoB,CAC3C,MAAO,CAAAC,SAAS,KAAM,uBAAuB,CAC7C,OAASC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE5C,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb,IAAAC,SAAA,CAAgCN,QAAQ,CAAC,KAAK,CAAC,CAAAO,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAxCG,QAAQ,CAAAF,UAAA,IAAEG,WAAW,CAAAH,UAAA,IAE5B,GAAM,CAAAI,aAAa,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,MAAAC,QAAA,QAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAEK,CAAAC,KAAK,CAAC,gBAAgB,CAAC,QAAxCN,QAAQ,CAAAG,QAAA,CAAAI,IAAA,CACd,GAAIP,QAAQ,CAACQ,EAAE,CAAE,CACff,WAAW,CAAC,IAAI,CAAC,CACnB,CAAC,IAAM,CACLA,WAAW,CAAC,KAAK,CAAC,CACpB,CAACU,QAAA,CAAAE,IAAA,iBAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAM,EAAA,CAAAN,QAAA,aAEDO,OAAO,CAACC,GAAG,CAAAR,QAAA,CAAAM,EAAI,CAAC,CAAC,yBAAAN,QAAA,CAAAS,IAAA,MAAAb,OAAA,gBAEpB,kBAXK,CAAAL,aAAaA,CAAA,SAAAC,IAAA,CAAAkB,KAAA,MAAAC,SAAA,OAWlB,CACDhC,SAAS,CAAC,UAAM,CACdY,aAAa,CAAC,CAAC,CACjB,CAAC,CAAE,EAAE,CAAC,CACN,mBACET,IAAA,QAAK8B,SAAS,CAAC,UAAU,CAAAC,QAAA,cACvB/B,IAAA,CAACT,aAAa,EAAAwC,QAAA,cACZ7B,KAAA,CAACV,MAAM,EAAAuC,QAAA,eACL/B,IAAA,CAACP,KAAK,EACJuC,IAAI,CAAC,GAAG,CACRC,OAAO,CACL1B,QAAQ,cAAGP,IAAA,CAACJ,SAAS,GAAE,CAAC,cAAGI,IAAA,CAACN,SAAS,EAACwC,WAAW,CAAE1B,WAAY,CAAE,CAClE,CACK,CAAC,cACTR,IAAA,CAACP,KAAK,EAACuC,IAAI,CAAC,SAAS,CAACC,OAAO,cAAEjC,IAAA,CAACL,UAAU,GAAE,CAAE,CAAQ,CAAC,cACvDK,IAAA,CAACP,KAAK,EACJuC,IAAI,CAAC,cAAc,CACnBC,OAAO,CACL1B,QAAQ,cACNP,IAAA,CAACJ,SAAS,EAACuC,KAAK,CAAE5B,QAAS,CAAC2B,WAAW,CAAE1B,WAAY,CAAE,CAAC,cAExDR,IAAA,CAACN,SAAS,EAACwC,WAAW,CAAE1B,WAAY,CAAE,CAEzC,CACK,CAAC,EACH,CAAC,CACI,CAAC,CACb,CAAC,CAEV,CAEA,cAAe,CAAAL,GAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}